{"id":"ReQy","dependencies":[{"name":"C:\\Users\\User\\Desktop\\IT обучение\\goit-js-hw-11-promise\\package.json","includedInParent":true,"mtime":1606485150176}],"generated":{"js":"var n=function(n,t){return Math.floor(Math.random()*(t-n+1)+n)},t=function(t){return new Promise(function(o,a){var c=n(1e3,3e3);setTimeout(function(){Math.random()>.3?o({id:t.id,time:c}):a(t.id)},c)})},o=function(n){var t=n.id,o=n.time;console.log(\"Transaction \".concat(t,\" processed in \").concat(o,\"ms\"))},a=function(n){console.warn(\"Error processing transaction \".concat(n,\". Please try again later.\"))};t({id:70,amount:150}).then(o).catch(a),t({id:71,amount:230}).then(o).catch(a),t({id:72,amount:75}).then(o).catch(a),t({id:73,amount:100}).then(o).catch(a);"},"sourceMaps":{"js":{"mappings":[{"source":"js/index3.js","original":{"line":5,"column":0},"generated":{"line":1,"column":0}},{"source":"js/index3.js","name":"randomIntegerFromInterval","original":{"line":5,"column":6},"generated":{"line":1,"column":4}},{"source":"js/index3.js","original":{"line":5,"column":34},"generated":{"line":1,"column":6}},{"source":"js/index3.js","name":"min","original":{"line":5,"column":35},"generated":{"line":1,"column":15}},{"source":"js/index3.js","name":"max","original":{"line":5,"column":40},"generated":{"line":1,"column":17}},{"source":"js/index3.js","name":"Math","original":{"line":6,"column":9},"generated":{"line":1,"column":20}},{"source":"js/index3.js","name":"Math","original":{"line":6,"column":9},"generated":{"line":1,"column":27}},{"source":"js/index3.js","name":"floor","original":{"line":6,"column":14},"generated":{"line":1,"column":32}},{"source":"js/index3.js","name":"Math","original":{"line":6,"column":20},"generated":{"line":1,"column":38}},{"source":"js/index3.js","name":"random","original":{"line":6,"column":25},"generated":{"line":1,"column":43}},{"source":"js/index3.js","name":"max","original":{"line":6,"column":37},"generated":{"line":1,"column":53}},{"source":"js/index3.js","name":"min","original":{"line":6,"column":43},"generated":{"line":1,"column":55}},{"source":"js/index3.js","original":{"line":6,"column":49},"generated":{"line":1,"column":57}},{"source":"js/index3.js","name":"min","original":{"line":6,"column":54},"generated":{"line":1,"column":60}},{"source":"js/index3.js","name":"makeTransaction","original":{"line":9,"column":6},"generated":{"line":1,"column":64}},{"source":"js/index3.js","original":{"line":9,"column":24},"generated":{"line":1,"column":66}},{"source":"js/index3.js","name":"transaction","original":{"line":9,"column":25},"generated":{"line":1,"column":75}},{"source":"js/index3.js","original":{"line":10,"column":9},"generated":{"line":1,"column":78}},{"source":"js/index3.js","original":{"line":10,"column":9},"generated":{"line":1,"column":85}},{"source":"js/index3.js","name":"Promise","original":{"line":10,"column":13},"generated":{"line":1,"column":89}},{"source":"js/index3.js","original":{"line":10,"column":21},"generated":{"line":1,"column":97}},{"source":"js/index3.js","name":"resolve","original":{"line":10,"column":22},"generated":{"line":1,"column":106}},{"source":"js/index3.js","name":"reject","original":{"line":10,"column":31},"generated":{"line":1,"column":108}},{"source":"js/index3.js","name":"delay","original":{"line":11,"column":10},"generated":{"line":1,"column":111}},{"source":"js/index3.js","name":"delay","original":{"line":11,"column":10},"generated":{"line":1,"column":115}},{"source":"js/index3.js","name":"randomIntegerFromInterval","original":{"line":11,"column":18},"generated":{"line":1,"column":117}},{"source":"js/index3.js","original":{"line":11,"column":44},"generated":{"line":1,"column":119}},{"source":"js/index3.js","original":{"line":11,"column":50},"generated":{"line":1,"column":123}},{"source":"js/index3.js","name":"setTimeout","original":{"line":12,"column":4},"generated":{"line":1,"column":128}},{"source":"js/index3.js","original":{"line":12,"column":15},"generated":{"line":1,"column":139}},{"source":"js/index3.js","name":"Math","original":{"line":13,"column":25},"generated":{"line":1,"column":150}},{"source":"js/index3.js","name":"random","original":{"line":13,"column":30},"generated":{"line":1,"column":155}},{"source":"js/index3.js","original":{"line":13,"column":41},"generated":{"line":1,"column":164}},{"source":"js/index3.js","name":"resolve","original":{"line":15,"column":8},"generated":{"line":1,"column":167}},{"source":"js/index3.js","original":{"line":15,"column":16},"generated":{"line":1,"column":169}},{"source":"js/index3.js","name":"id","original":{"line":15,"column":18},"generated":{"line":1,"column":170}},{"source":"js/index3.js","name":"transaction","original":{"line":15,"column":22},"generated":{"line":1,"column":173}},{"source":"js/index3.js","name":"id","original":{"line":15,"column":34},"generated":{"line":1,"column":175}},{"source":"js/index3.js","name":"time","original":{"line":15,"column":38},"generated":{"line":1,"column":178}},{"source":"js/index3.js","name":"delay","original":{"line":15,"column":44},"generated":{"line":1,"column":183}},{"source":"js/index3.js","name":"reject","original":{"line":17,"column":8},"generated":{"line":1,"column":187}},{"source":"js/index3.js","name":"transaction","original":{"line":17,"column":15},"generated":{"line":1,"column":189}},{"source":"js/index3.js","name":"id","original":{"line":17,"column":27},"generated":{"line":1,"column":191}},{"source":"js/index3.js","name":"delay","original":{"line":19,"column":7},"generated":{"line":1,"column":196}},{"source":"js/index3.js","name":"logSuccess","original":{"line":22,"column":6},"generated":{"line":1,"column":202}},{"source":"js/index3.js","original":{"line":22,"column":19},"generated":{"line":1,"column":204}},{"source":"js/index3.js","original":{"line":22,"column":37},"generated":{"line":1,"column":213}},{"source":"js/index3.js","name":"id","original":{"line":22,"column":22},"generated":{"line":1,"column":216}},{"source":"js/index3.js","name":"id","original":{"line":22,"column":22},"generated":{"line":1,"column":220}},{"source":"js/index3.js","name":"id","original":{"line":22,"column":22},"generated":{"line":1,"column":222}},{"source":"js/index3.js","name":"id","original":{"line":22,"column":22},"generated":{"line":1,"column":224}},{"source":"js/index3.js","name":"time","original":{"line":22,"column":26},"generated":{"line":1,"column":227}},{"source":"js/index3.js","name":"time","original":{"line":22,"column":26},"generated":{"line":1,"column":229}},{"source":"js/index3.js","name":"time","original":{"line":22,"column":26},"generated":{"line":1,"column":231}},{"source":"js/index3.js","name":"console","original":{"line":23,"column":2},"generated":{"line":1,"column":236}},{"source":"js/index3.js","name":"log","original":{"line":23,"column":10},"generated":{"line":1,"column":244}},{"source":"js/index3.js","name":"id","original":{"line":23,"column":29},"generated":{"line":1,"column":248}},{"source":"js/index3.js","name":"id","original":{"line":23,"column":29},"generated":{"line":1,"column":263}},{"source":"js/index3.js","name":"id","original":{"line":23,"column":29},"generated":{"line":1,"column":270}},{"source":"js/index3.js","name":"time","original":{"line":23,"column":48},"generated":{"line":1,"column":272}},{"source":"js/index3.js","name":"time","original":{"line":23,"column":48},"generated":{"line":1,"column":290}},{"source":"js/index3.js","name":"time","original":{"line":23,"column":48},"generated":{"line":1,"column":297}},{"source":"js/index3.js","original":{"line":23,"column":2},"generated":{"line":1,"column":299}},{"source":"js/index3.js","name":"logError","original":{"line":26,"column":6},"generated":{"line":1,"column":307}},{"source":"js/index3.js","original":{"line":26,"column":17},"generated":{"line":1,"column":309}},{"source":"js/index3.js","name":"id","original":{"line":26,"column":18},"generated":{"line":1,"column":318}},{"source":"js/index3.js","name":"console","original":{"line":27,"column":2},"generated":{"line":1,"column":321}},{"source":"js/index3.js","name":"warn","original":{"line":27,"column":10},"generated":{"line":1,"column":329}},{"source":"js/index3.js","name":"id","original":{"line":27,"column":47},"generated":{"line":1,"column":334}},{"source":"js/index3.js","name":"id","original":{"line":27,"column":47},"generated":{"line":1,"column":366}},{"source":"js/index3.js","name":"id","original":{"line":27,"column":47},"generated":{"line":1,"column":373}},{"source":"js/index3.js","original":{"line":27,"column":2},"generated":{"line":1,"column":375}},{"source":"js/index3.js","name":"makeTransaction","original":{"line":33,"column":0},"generated":{"line":1,"column":406}},{"source":"js/index3.js","original":{"line":33,"column":16},"generated":{"line":1,"column":408}},{"source":"js/index3.js","name":"id","original":{"line":33,"column":18},"generated":{"line":1,"column":409}},{"source":"js/index3.js","original":{"line":33,"column":22},"generated":{"line":1,"column":412}},{"source":"js/index3.js","name":"amount","original":{"line":33,"column":26},"generated":{"line":1,"column":415}},{"source":"js/index3.js","original":{"line":33,"column":34},"generated":{"line":1,"column":422}},{"source":"js/index3.js","name":"then","original":{"line":33,"column":41},"generated":{"line":1,"column":428}},{"source":"js/index3.js","name":"logSuccess","original":{"line":33,"column":46},"generated":{"line":1,"column":433}},{"source":"js/index3.js","name":"catch","original":{"line":33,"column":58},"generated":{"line":1,"column":436}},{"source":"js/index3.js","name":"logError","original":{"line":33,"column":64},"generated":{"line":1,"column":442}},{"source":"js/index3.js","name":"makeTransaction","original":{"line":35,"column":0},"generated":{"line":1,"column":445}},{"source":"js/index3.js","original":{"line":35,"column":16},"generated":{"line":1,"column":447}},{"source":"js/index3.js","name":"id","original":{"line":35,"column":18},"generated":{"line":1,"column":448}},{"source":"js/index3.js","original":{"line":35,"column":22},"generated":{"line":1,"column":451}},{"source":"js/index3.js","name":"amount","original":{"line":35,"column":26},"generated":{"line":1,"column":454}},{"source":"js/index3.js","original":{"line":35,"column":34},"generated":{"line":1,"column":461}},{"source":"js/index3.js","name":"then","original":{"line":35,"column":41},"generated":{"line":1,"column":467}},{"source":"js/index3.js","name":"logSuccess","original":{"line":35,"column":46},"generated":{"line":1,"column":472}},{"source":"js/index3.js","name":"catch","original":{"line":35,"column":58},"generated":{"line":1,"column":475}},{"source":"js/index3.js","name":"logError","original":{"line":35,"column":64},"generated":{"line":1,"column":481}},{"source":"js/index3.js","name":"makeTransaction","original":{"line":37,"column":0},"generated":{"line":1,"column":484}},{"source":"js/index3.js","original":{"line":37,"column":16},"generated":{"line":1,"column":486}},{"source":"js/index3.js","name":"id","original":{"line":37,"column":18},"generated":{"line":1,"column":487}},{"source":"js/index3.js","original":{"line":37,"column":22},"generated":{"line":1,"column":490}},{"source":"js/index3.js","name":"amount","original":{"line":37,"column":26},"generated":{"line":1,"column":493}},{"source":"js/index3.js","original":{"line":37,"column":34},"generated":{"line":1,"column":500}},{"source":"js/index3.js","name":"then","original":{"line":37,"column":40},"generated":{"line":1,"column":505}},{"source":"js/index3.js","name":"logSuccess","original":{"line":37,"column":45},"generated":{"line":1,"column":510}},{"source":"js/index3.js","name":"catch","original":{"line":37,"column":57},"generated":{"line":1,"column":513}},{"source":"js/index3.js","name":"logError","original":{"line":37,"column":63},"generated":{"line":1,"column":519}},{"source":"js/index3.js","name":"makeTransaction","original":{"line":39,"column":0},"generated":{"line":1,"column":522}},{"source":"js/index3.js","original":{"line":39,"column":16},"generated":{"line":1,"column":524}},{"source":"js/index3.js","name":"id","original":{"line":39,"column":18},"generated":{"line":1,"column":525}},{"source":"js/index3.js","original":{"line":39,"column":22},"generated":{"line":1,"column":528}},{"source":"js/index3.js","name":"amount","original":{"line":39,"column":26},"generated":{"line":1,"column":531}},{"source":"js/index3.js","original":{"line":39,"column":34},"generated":{"line":1,"column":538}},{"source":"js/index3.js","name":"then","original":{"line":39,"column":41},"generated":{"line":1,"column":544}},{"source":"js/index3.js","name":"logSuccess","original":{"line":39,"column":46},"generated":{"line":1,"column":549}},{"source":"js/index3.js","name":"catch","original":{"line":39,"column":58},"generated":{"line":1,"column":552}},{"source":"js/index3.js","name":"logError","original":{"line":39,"column":64},"generated":{"line":1,"column":558}}],"sources":{"js/index3.js":"// Перепиши функцию makeTransaction() так, чтобы она не использовала callback-функции\r\n// onSuccess и onError, а принимала всего один параметр transaction и возвращала\r\n// промис.\r\n\r\nconst randomIntegerFromInterval = (min, max) => {\r\n  return Math.floor(Math.random() * (max - min + 1) + min);\r\n};\r\n\r\nconst makeTransaction = (transaction) => {\r\n  return new Promise((resolve, reject) => {\r\n    const delay = randomIntegerFromInterval(1000, 3000);\r\n    setTimeout(() => {\r\n      const canProcess = Math.random() > 0.3;\r\n      if (canProcess) {\r\n        resolve({ id: transaction.id, time: delay });\r\n      } else {\r\n        reject(transaction.id);\r\n      }\r\n    }, delay);\r\n  });\r\n};\r\nconst logSuccess = ({ id, time }) => {\r\n  console.log(`Transaction ${id} processed in ${time}ms`);\r\n};\r\n\r\nconst logError = (id) => {\r\n  console.warn(`Error processing transaction ${id}. Please try again later.`);\r\n};\r\n\r\n//   *\r\n//  * Должно работать так\r\n//  */\r\nmakeTransaction({ id: 70, amount: 150 }).then(logSuccess).catch(logError);\r\n\r\nmakeTransaction({ id: 71, amount: 230 }).then(logSuccess).catch(logError);\r\n\r\nmakeTransaction({ id: 72, amount: 75 }).then(logSuccess).catch(logError);\r\n\r\nmakeTransaction({ id: 73, amount: 100 }).then(logSuccess).catch(logError);\r\n\r\n// --------------------------------------------------------------------------------\r\n\r\n// const randomIntegerFromInterval = (min, max) => {\r\n//   return Math.floor(Math.random() * (max - min + 1) + min);\r\n// };\r\n\r\n// const makeTransaction = (transaction, onSuccess, onError) => {\r\n//   const delay = randomIntegerFromInterval(1000, 2000);\r\n\r\n//   setTimeout(() => {\r\n//     const canProcess = Math.random() > 0.3;\r\n\r\n//     if (canProcess) {\r\n//       onSuccess(transaction.id, delay);\r\n//     } else {\r\n//       onError(transaction.id);\r\n//     }\r\n//   }, delay);\r\n// };\r\n\r\n// const logSuccess = (id, time) => {\r\n//   console.log(`Transaction ${id} processed in ${time}ms`);\r\n// };\r\n\r\n// const logError = (id) => {\r\n//   console.warn(`Error processing transaction ${id}. Please try again later.`);\r\n// };\r\n\r\n// /*\r\n//  * Работает так\r\n//  */\r\n// makeTransaction({ id: 70, amount: 150 }, logSuccess, logError);\r\n// makeTransaction({ id: 71, amount: 230 }, logSuccess, logError);\r\n// makeTransaction({ id: 72, amount: 75 }, logSuccess, logError);\r\n// makeTransaction({ id: 73, amount: 100 }, logSuccess, logError);\r\n"},"lineCount":null}},"error":null,"hash":"5ee3212709eb2dd87b8673b13d5d3a99","cacheData":{"env":{}}}