{"id":"ReQy","dependencies":[{"name":"C:\\Users\\User\\Desktop\\IT обучение\\goit-js-hw-11-promise\\package.json","includedInParent":true,"mtime":1606432997336}],"generated":{"js":"var n=function(n,t){return Math.floor(Math.random()*(t-n+1)+n)},t=function(t){return new Promise(function(o,a){var c=n(200,500);setTimeout(function(){Math.random()>.3?o(t.id,c):a(t.id)},c)})},o=function(n,t){console.log(\"Transaction \".concat(n,\" processed in \").concat(t,\"ms\"))},a=function(n){console.warn(\"Error processing transaction \".concat(n,\". Please try again later.\"))};t({id:70,amount:150}).then(o).catch(a),t({id:71,amount:230}).then(o).catch(a),t({id:72,amount:75}).then(o).catch(a),t({id:73,amount:100}).then(o).catch(a);"},"sourceMaps":{"js":{"mappings":[{"source":"js/index3.js","original":{"line":39,"column":0},"generated":{"line":1,"column":0}},{"source":"js/index3.js","name":"randomIntegerFromInterval","original":{"line":39,"column":6},"generated":{"line":1,"column":4}},{"source":"js/index3.js","original":{"line":39,"column":34},"generated":{"line":1,"column":6}},{"source":"js/index3.js","name":"min","original":{"line":39,"column":35},"generated":{"line":1,"column":15}},{"source":"js/index3.js","name":"max","original":{"line":39,"column":40},"generated":{"line":1,"column":17}},{"source":"js/index3.js","name":"Math","original":{"line":40,"column":9},"generated":{"line":1,"column":20}},{"source":"js/index3.js","name":"Math","original":{"line":40,"column":9},"generated":{"line":1,"column":27}},{"source":"js/index3.js","name":"floor","original":{"line":40,"column":14},"generated":{"line":1,"column":32}},{"source":"js/index3.js","name":"Math","original":{"line":40,"column":20},"generated":{"line":1,"column":38}},{"source":"js/index3.js","name":"random","original":{"line":40,"column":25},"generated":{"line":1,"column":43}},{"source":"js/index3.js","name":"max","original":{"line":40,"column":37},"generated":{"line":1,"column":53}},{"source":"js/index3.js","name":"min","original":{"line":40,"column":43},"generated":{"line":1,"column":55}},{"source":"js/index3.js","original":{"line":40,"column":49},"generated":{"line":1,"column":57}},{"source":"js/index3.js","name":"min","original":{"line":40,"column":54},"generated":{"line":1,"column":60}},{"source":"js/index3.js","name":"makeTransaction","original":{"line":43,"column":6},"generated":{"line":1,"column":64}},{"source":"js/index3.js","original":{"line":43,"column":24},"generated":{"line":1,"column":66}},{"source":"js/index3.js","name":"transaction","original":{"line":43,"column":25},"generated":{"line":1,"column":75}},{"source":"js/index3.js","original":{"line":44,"column":9},"generated":{"line":1,"column":78}},{"source":"js/index3.js","original":{"line":44,"column":9},"generated":{"line":1,"column":85}},{"source":"js/index3.js","name":"Promise","original":{"line":44,"column":13},"generated":{"line":1,"column":89}},{"source":"js/index3.js","original":{"line":44,"column":21},"generated":{"line":1,"column":97}},{"source":"js/index3.js","name":"onSuccess","original":{"line":44,"column":22},"generated":{"line":1,"column":106}},{"source":"js/index3.js","name":"onError","original":{"line":44,"column":33},"generated":{"line":1,"column":108}},{"source":"js/index3.js","name":"delay","original":{"line":45,"column":10},"generated":{"line":1,"column":111}},{"source":"js/index3.js","name":"delay","original":{"line":45,"column":10},"generated":{"line":1,"column":115}},{"source":"js/index3.js","name":"randomIntegerFromInterval","original":{"line":45,"column":18},"generated":{"line":1,"column":117}},{"source":"js/index3.js","original":{"line":45,"column":44},"generated":{"line":1,"column":119}},{"source":"js/index3.js","original":{"line":45,"column":49},"generated":{"line":1,"column":123}},{"source":"js/index3.js","name":"setTimeout","original":{"line":46,"column":4},"generated":{"line":1,"column":128}},{"source":"js/index3.js","original":{"line":46,"column":15},"generated":{"line":1,"column":139}},{"source":"js/index3.js","name":"Math","original":{"line":47,"column":25},"generated":{"line":1,"column":150}},{"source":"js/index3.js","name":"random","original":{"line":47,"column":30},"generated":{"line":1,"column":155}},{"source":"js/index3.js","original":{"line":47,"column":41},"generated":{"line":1,"column":164}},{"source":"js/index3.js","name":"onSuccess","original":{"line":50,"column":8},"generated":{"line":1,"column":167}},{"source":"js/index3.js","name":"transaction","original":{"line":50,"column":18},"generated":{"line":1,"column":169}},{"source":"js/index3.js","name":"id","original":{"line":50,"column":30},"generated":{"line":1,"column":171}},{"source":"js/index3.js","name":"delay","original":{"line":50,"column":34},"generated":{"line":1,"column":174}},{"source":"js/index3.js","name":"onError","original":{"line":52,"column":8},"generated":{"line":1,"column":177}},{"source":"js/index3.js","name":"transaction","original":{"line":52,"column":16},"generated":{"line":1,"column":179}},{"source":"js/index3.js","name":"id","original":{"line":52,"column":28},"generated":{"line":1,"column":181}},{"source":"js/index3.js","name":"delay","original":{"line":54,"column":7},"generated":{"line":1,"column":186}},{"source":"js/index3.js","name":"logSuccess","original":{"line":58,"column":6},"generated":{"line":1,"column":192}},{"source":"js/index3.js","original":{"line":58,"column":19},"generated":{"line":1,"column":194}},{"source":"js/index3.js","name":"id","original":{"line":58,"column":20},"generated":{"line":1,"column":203}},{"source":"js/index3.js","name":"time","original":{"line":58,"column":24},"generated":{"line":1,"column":205}},{"source":"js/index3.js","name":"console","original":{"line":59,"column":2},"generated":{"line":1,"column":208}},{"source":"js/index3.js","name":"log","original":{"line":59,"column":10},"generated":{"line":1,"column":216}},{"source":"js/index3.js","name":"id","original":{"line":59,"column":29},"generated":{"line":1,"column":220}},{"source":"js/index3.js","name":"id","original":{"line":59,"column":29},"generated":{"line":1,"column":235}},{"source":"js/index3.js","name":"id","original":{"line":59,"column":29},"generated":{"line":1,"column":242}},{"source":"js/index3.js","name":"time","original":{"line":59,"column":48},"generated":{"line":1,"column":244}},{"source":"js/index3.js","name":"time","original":{"line":59,"column":48},"generated":{"line":1,"column":262}},{"source":"js/index3.js","name":"time","original":{"line":59,"column":48},"generated":{"line":1,"column":269}},{"source":"js/index3.js","original":{"line":59,"column":2},"generated":{"line":1,"column":271}},{"source":"js/index3.js","name":"logError","original":{"line":62,"column":6},"generated":{"line":1,"column":279}},{"source":"js/index3.js","original":{"line":62,"column":17},"generated":{"line":1,"column":281}},{"source":"js/index3.js","name":"id","original":{"line":62,"column":18},"generated":{"line":1,"column":290}},{"source":"js/index3.js","name":"console","original":{"line":63,"column":2},"generated":{"line":1,"column":293}},{"source":"js/index3.js","name":"warn","original":{"line":63,"column":10},"generated":{"line":1,"column":301}},{"source":"js/index3.js","name":"id","original":{"line":63,"column":47},"generated":{"line":1,"column":306}},{"source":"js/index3.js","name":"id","original":{"line":63,"column":47},"generated":{"line":1,"column":338}},{"source":"js/index3.js","name":"id","original":{"line":63,"column":47},"generated":{"line":1,"column":345}},{"source":"js/index3.js","original":{"line":63,"column":2},"generated":{"line":1,"column":347}},{"source":"js/index3.js","name":"makeTransaction","original":{"line":69,"column":0},"generated":{"line":1,"column":378}},{"source":"js/index3.js","original":{"line":69,"column":16},"generated":{"line":1,"column":380}},{"source":"js/index3.js","name":"id","original":{"line":69,"column":18},"generated":{"line":1,"column":381}},{"source":"js/index3.js","original":{"line":69,"column":22},"generated":{"line":1,"column":384}},{"source":"js/index3.js","name":"amount","original":{"line":69,"column":26},"generated":{"line":1,"column":387}},{"source":"js/index3.js","original":{"line":69,"column":34},"generated":{"line":1,"column":394}},{"source":"js/index3.js","name":"then","original":{"line":69,"column":41},"generated":{"line":1,"column":400}},{"source":"js/index3.js","name":"logSuccess","original":{"line":69,"column":46},"generated":{"line":1,"column":405}},{"source":"js/index3.js","name":"catch","original":{"line":69,"column":58},"generated":{"line":1,"column":408}},{"source":"js/index3.js","name":"logError","original":{"line":69,"column":64},"generated":{"line":1,"column":414}},{"source":"js/index3.js","name":"makeTransaction","original":{"line":71,"column":0},"generated":{"line":1,"column":417}},{"source":"js/index3.js","original":{"line":71,"column":16},"generated":{"line":1,"column":419}},{"source":"js/index3.js","name":"id","original":{"line":71,"column":18},"generated":{"line":1,"column":420}},{"source":"js/index3.js","original":{"line":71,"column":22},"generated":{"line":1,"column":423}},{"source":"js/index3.js","name":"amount","original":{"line":71,"column":26},"generated":{"line":1,"column":426}},{"source":"js/index3.js","original":{"line":71,"column":34},"generated":{"line":1,"column":433}},{"source":"js/index3.js","name":"then","original":{"line":71,"column":41},"generated":{"line":1,"column":439}},{"source":"js/index3.js","name":"logSuccess","original":{"line":71,"column":46},"generated":{"line":1,"column":444}},{"source":"js/index3.js","name":"catch","original":{"line":71,"column":58},"generated":{"line":1,"column":447}},{"source":"js/index3.js","name":"logError","original":{"line":71,"column":64},"generated":{"line":1,"column":453}},{"source":"js/index3.js","name":"makeTransaction","original":{"line":73,"column":0},"generated":{"line":1,"column":456}},{"source":"js/index3.js","original":{"line":73,"column":16},"generated":{"line":1,"column":458}},{"source":"js/index3.js","name":"id","original":{"line":73,"column":18},"generated":{"line":1,"column":459}},{"source":"js/index3.js","original":{"line":73,"column":22},"generated":{"line":1,"column":462}},{"source":"js/index3.js","name":"amount","original":{"line":73,"column":26},"generated":{"line":1,"column":465}},{"source":"js/index3.js","original":{"line":73,"column":34},"generated":{"line":1,"column":472}},{"source":"js/index3.js","name":"then","original":{"line":73,"column":40},"generated":{"line":1,"column":477}},{"source":"js/index3.js","name":"logSuccess","original":{"line":73,"column":45},"generated":{"line":1,"column":482}},{"source":"js/index3.js","name":"catch","original":{"line":73,"column":57},"generated":{"line":1,"column":485}},{"source":"js/index3.js","name":"logError","original":{"line":73,"column":63},"generated":{"line":1,"column":491}},{"source":"js/index3.js","name":"makeTransaction","original":{"line":75,"column":0},"generated":{"line":1,"column":494}},{"source":"js/index3.js","original":{"line":75,"column":16},"generated":{"line":1,"column":496}},{"source":"js/index3.js","name":"id","original":{"line":75,"column":18},"generated":{"line":1,"column":497}},{"source":"js/index3.js","original":{"line":75,"column":22},"generated":{"line":1,"column":500}},{"source":"js/index3.js","name":"amount","original":{"line":75,"column":26},"generated":{"line":1,"column":503}},{"source":"js/index3.js","original":{"line":75,"column":34},"generated":{"line":1,"column":510}},{"source":"js/index3.js","name":"then","original":{"line":75,"column":41},"generated":{"line":1,"column":516}},{"source":"js/index3.js","name":"logSuccess","original":{"line":75,"column":46},"generated":{"line":1,"column":521}},{"source":"js/index3.js","name":"catch","original":{"line":75,"column":58},"generated":{"line":1,"column":524}},{"source":"js/index3.js","name":"logError","original":{"line":75,"column":64},"generated":{"line":1,"column":530}}],"sources":{"js/index3.js":"// Перепиши функцию makeTransaction() так, чтобы она не использовала callback-функции\r\n// onSuccess и onError, а принимала всего один параметр transaction и возвращала\r\n// промис.\r\n\r\n// const randomIntegerFromInterval = (min, max) => {\r\n//   return Math.floor(Math.random() * (max - min + 1) + min);\r\n// };\r\n\r\n// const makeTransaction = (transaction, onSuccess, onError) => {\r\n//   const delay = randomIntegerFromInterval(200, 500);\r\n\r\n//   setTimeout(() => {\r\n//     const canProcess = Math.random() > 0.3;\r\n\r\n//     if (canProcess) {\r\n//       onSuccess(transaction.id, delay);\r\n//     } else {\r\n//       onError(transaction.id);\r\n//     }\r\n//   }, delay);\r\n// };\r\n\r\n// const logSuccess = (id, time) => {\r\n//   console.log(`Transaction ${id} processed in ${time}ms`);\r\n// };\r\n\r\n// const logError = (id) => {\r\n//   console.warn(`Error processing transaction ${id}. Please try again later.`);\r\n// };\r\n\r\n/*\r\n * Работает так\r\n */\r\n// makeTransaction({ id: 70, amount: 150 }, logSuccess, logError);\r\n// makeTransaction({ id: 71, amount: 230 }, logSuccess, logError);\r\n// makeTransaction({ id: 72, amount: 75 }, logSuccess, logError);\r\n// makeTransaction({ id: 73, amount: 100 }, logSuccess, logError);\r\n\r\nconst randomIntegerFromInterval = (min, max) => {\r\n  return Math.floor(Math.random() * (max - min + 1) + min);\r\n};\r\n\r\nconst makeTransaction = (transaction) => {\r\n  return new Promise((onSuccess, onError) => {\r\n    const delay = randomIntegerFromInterval(200, 500);\r\n    setTimeout(() => {\r\n      const canProcess = Math.random() > 0.3;\r\n\r\n      if (canProcess) {\r\n        onSuccess(transaction.id, delay);\r\n      } else {\r\n        onError(transaction.id);\r\n      }\r\n    }, delay);\r\n  });\r\n};\r\n\r\nconst logSuccess = (id, time) => {\r\n  console.log(`Transaction ${id} processed in ${time}ms`);\r\n};\r\n\r\nconst logError = (id) => {\r\n  console.warn(`Error processing transaction ${id}. Please try again later.`);\r\n};\r\n\r\n//   *\r\n//  * Должно работать так\r\n//  */\r\nmakeTransaction({ id: 70, amount: 150 }).then(logSuccess).catch(logError);\r\n\r\nmakeTransaction({ id: 71, amount: 230 }).then(logSuccess).catch(logError);\r\n\r\nmakeTransaction({ id: 72, amount: 75 }).then(logSuccess).catch(logError);\r\n\r\nmakeTransaction({ id: 73, amount: 100 }).then(logSuccess).catch(logError);\r\n"},"lineCount":null}},"error":null,"hash":"4c87dd985ae1e0f4242c46cdcb31af1e","cacheData":{"env":{}}}